// joe v0.1 | Poor Joe's 3kB jQuery for modern browsers. | Radomir Stevanovic, April 2013. (https://github.com/randomir/joe)
(function(f,l){if(f.joe)return f.joe;var g=f.document,d=function(a,b){return new d.init(a,b)};d.init=function(a,b){if(a.nodeType)return this.extend([a]);if("string"===typeof a)return this.extend(d.fn.select(a,b));"function"===typeof a&&d.fn.attach(f,"load",a)};d.fn=d.init.prototype={attach:function(a,b,c){var d=function(){var a=c&&c.apply(this,arguments);if(!1===a){var b=arguments[0];b.preventDefault&&b.preventDefault();b.stopPropagation&&b.stopPropagation();b.returnValue=!1}return a};a.addEventListener?
a.addEventListener(b,d,!1):a.attachEvent&&a.attachEvent("on"+b,d)},dispatch:function(a,b){if(g.createEvent){var c=g.createEvent("Event");c.initEvent(b,!0,!1);a.dispatchEvent(c)}else g.createEventObject&&(c=g.createEventObject(),a.fireEvent("on"+b,c))},select:function(a,b){b||(b=g);return b.querySelectorAll(a)},extend:function(a,b){b=b||this;if(a.length){for(var c=0;c<a.length;c++)b[c]=a[c];b.length=a.length}else for(prop in a)b[prop]=a[prop];return b}};Array.prototype.forEach=function(a,b){for(var c=
0;c<this.length;c++)a.call(this[c],c,b);return this};Array.prototype.filtered=function(a){var b=[];this.forEach(function(){a.call(this)&&b.push(this)});return b};"contains"in String.prototype||(String.prototype.contains=function(a,b){return-1!==this.indexOf(a,b)});d.init.prototype.extend({on:function(a,b){return this.each(function(){d.fn.attach(this,a,b)})},trigger:function(a,b){return this.each(function(){d.fn.dispatch(this,a)})},each:Array.prototype.forEach,css:function(a){return this.each(function(){d.fn.extend(a,
this.style)})},html:function(a){return a?(this[0].innerHTML=a,this):this[0].innerHTML},text:function(a){return a?(this[0].textContent=a,this):this[0].textContent},attr:function(a,b){return b?(this[0].setAttribute(a,b),this):this[0].getAttribute(a)}});d.init.prototype.extend({hasClass:function(a){return this[0].className.contains(a)},addClass:function(a){return this.each(function(){this.className.contains(a)||(this.className+=" "+a)})},removeClass:function(a){return this.each(function(){this.className=
this.className.split(" ").filtered(function(){return this.toString()!==a}).join(" ")})},toggleClass:function(a){return this.each(function(){var b=$(this);b.hasClass(a)?b.removeClass(a):b.addClass(a)})},hide:function(){return this.css({display:"none"})},show:function(){return this.css({display:"inherit"})}});d.fn.extend({kvjoin:function(a,b,c){b||(b="&");!1!==c&&(c=!0);var d=[],e;for(e in a)a[e]&&d.push((c?encodeURIComponent(e):e)+"="+(c?encodeURIComponent(a[e]):a[e]));return d.join(b)},urlcat:function(a,
b){return a+(a.contains("?")?"&":"?")+d.fn.kvjoin(b)},ajax:function(a){var b=new XMLHttpRequest,c=a.url;if(b&&c){var h=function(){},e=a.error||h,f=a.success||h,g=a.complete||h,h=(a.method||"GET").toUpperCase(),k=a.data;"GET"==h&&"object"==typeof k&&(c=d.fn.urlcat(c,k),k=l);b.open(h,c,!!a.async);b.setRequestHeader("X-Requested-With","XMLHttpRequest");"POST"==h&&"object"==typeof k&&(k=d.fn.kvjoin(k),b.setRequestHeader("Content-type","application/x-www-form-urlencoded"));b.onreadystatechange=function(){if(!(4!=
b.readyState||0==b.status)){if(200!=b.status&&304!=b.status)e(b,b.statusText);else{var a=b.getResponseHeader("content-type"),c=b.responseText;"application/json"===a&&JSON&&(c=c&&JSON.parse(c));f(c,b.statusText,b)}g(b,b.statusText)}};if(4!=b.readyState)try{b.send(k)}catch(m){e(b,b.statusText,m),g(b,b.statusText)}}}});d.fn.extend(d.fn,d);return f.joe=f.$=d})(window,void 0);
