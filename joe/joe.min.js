(function(f,h){if(f.joe)return f.joe;var i=f.document,d=function(a,b){return new d.init(a,b)};d.init=function(a,b){if(a.nodeType)return this.extend([a]);if("string"===typeof a)return this.extend(d.fn.select(a,b));"function"===typeof a&&d.fn.attach(f,"load",a)};d.fn=d.init.prototype={attach:function(a,b,c){var d=function(){var a=c&&c.apply(this,arguments);if(!1===a){var b=arguments[0];b.preventDefault&&b.preventDefault();b.stopPropagation&&b.stopPropagation();b.returnValue=!1}return a};a.addEventListener?
a.addEventListener(b,d,!1):a.attachEvent&&a.attachEvent("on"+b,d)},select:function(a,b){b||(b=i);return b.querySelectorAll(a)},extend:function(a,b){b=b||this;if(a.length){for(var c=0;c<a.length;c++)b[c]=a[c];b.length=a.length}else for(prop in a)b[prop]=a[prop];return b}};Array.prototype.forEach=function(a,b){for(var c=0;c<this.length;c++)a.call(this[c],c,b);return this};Array.prototype.filtered=function(a){var b=[];this.forEach(function(){a.call(this)&&b.push(this)});return b};if(!("contains"in String.prototype))String.prototype.contains=
function(a,b){return-1!==this.indexOf(a,b)};d.init.prototype.extend({on:function(a,b){this.attach(this[0],a,b)},each:Array.prototype.forEach,css:function(a){return this.each(function(){d.fn.extend(a,this.style)})},html:function(a){return a?(this[0].innerHTML=a,this):this[0].innerHTML},text:function(a){return a?(this[0].textContent=a,this):this[0].textContent},attr:function(a,b){return b?(this[0].setAttribute(a,b),this):this[0].getAttribute(a)}});d.init.prototype.extend({hasClass:function(a){return this[0].className.contains(a)},
addClass:function(a){return this.each(function(){this.className.contains(a)||(this.className+=" "+a)})},removeClass:function(a){return this.each(function(){this.className=this.className.split(" ").filtered(function(){return this.toString()!==a}).join(" ")})},hide:function(){return this.css({display:"none"})},show:function(){return this.css({display:"inherit"})}});d.fn.extend({kvjoin:function(a,b,c){b||(b="&");!1!==c&&(c=!0);var d=[],e;for(e in a)a[e]&&d.push((c?encodeURIComponent(e):e)+"="+(c?encodeURIComponent(a[e]):
a[e]));return d.join(b)},urlcat:function(a,b){return a+(a.contains("?")?"&":"?")+d.fn.kvjoin(b)},ajax:function(a){var b=j(),c=a.url;if(b&&c){var f=(a.method||"GET").toUpperCase(),e=a.data;"GET"==f&&e&&(c=d.fn.urlcat(c,e),e=h);b.open(f,c,!!a.async);b.setRequestHeader("X-Requested-With","XMLHttpRequest");b.setRequestHeader("User-Agent","joe/0.1");"POST"==f&&b.setRequestHeader("Content-type","application/x-www-form-urlencoded");b.onreadystatechange=function(){if(4==b.readyState){if(200!=b.status&&304!=
b.status)return a.error&&a.error(b,b.status);a.success&&a.success(b.response,b.statusText,b);a.complete&&a.complete(b)}};4!=b.readyState&&b.send(e)}}});var g=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],j=function(){for(var a=!1,b=0;b<g.length;b++){try{a=g[b]()}catch(c){continue}break}return a};d.fn.extend(d.fn,d);return f.joe=f.$=d})(window,
void 0);
